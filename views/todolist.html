{{ define "index-todo" }}
<div class="grid grid-cols-2 md-5">
    {{ template "todo-form" }}
    {{ template "todoList" .Tasks}}
</div>
{{ end }}

{{ define "todo-form" }}
<form class="form-control mt-5" hx-post="/api/todo" hx-swap="beforeend" hx-target="#todo-list">
    <span class="label-text">Todo Description : </span>
    <input
    name="title"
    type="text"
    placeholder="Type here"
    class="input input-bordered input-primary w-full max-w-xs mb-2" />
    <span class="label-text">Todo Description : </span>
    <textarea name="description" class="mb-2 textarea textarea-primary" placeholder="Description ..."></textarea>
    <button class="btn btn-primary" type="submit"> SUBMIT </button>
</form>
{{ end }}

{{ define "todoList" }}
<div class="mx-5 mt-5" id="todo-list">
    {{ range . }}
        {{ template "todo" . }}
    {{ end }}
</div>
{{ end }}

{{ define "updateForm" }}
<form hx-put="/todo/{{ .Task.ID }}/update" hx-swap="innerHTML" hx-target="#todo-{{ .Task.ID }}">
    <label for="title">Title</label>
    <input type="text" name="title" value="{{ .Task.Title }}">
    <label for="title">Description</label>
    <input type="text" name="description" value="{{ .Task.Description }}">
    <label for="status">Status</label>
    <input type="checkbox" name="status" value="done">
    <button type="submit"> submit </button>
    <button hx-get="/todo/{{ .Task.ID }}" hx-swap="outerHTML" hx-target="#todo-{{ .Task.ID }}"> Cancel </button>
</form>
{{ end }}

{{ define "todo" }}
<div class="grid grid-cols-2 mb-5  border border-indigo-500 rounded-md p-4" id="todo-{{ .ID }}">
    <div id="content">
        <p>{{ .Title }}</p>
        <p>{{ .Description }}</p>
        <p>{{ .TimeSinceCreated }}</p>
    </div>

    <div id="action-button" class="mt-4 text-right space-y-2">
        <button class="btn btn-success w-16" hx-get="/todo/{{ .ID }}/update" hx-swap="innerHTML" hx-target="#todo-{{ .ID }}">edit</button>
        <button class="btn btn-error w-16" hx-delete="/todo/{{ .ID }}" hx-swap="outerHTML" hx-target="#todo-{{ .ID }}">delete</button>
    </div>
</div>
{{ end }}
