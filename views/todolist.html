{{ define "index-todo" }}
    {{ template "todo-form" }}
    <hr/>
    {{ template "todoList" .Tasks}}
{{ end }}

{{ define "todo-form" }}
<form hx-post="/api/todo" hx-swap="innerHTML" hx-target="#todo-list">
  <label for="title">Title</label>
  <input type="text" name="title" value="">
  <label for="title">Description</label>
  <input type="text" name="description" value="">

  <button type="submit"> SUBMIT </button>
</form>
{{ end }}

{{ define "todoList" }}
<div id="todo-list">
    {{ range . }}
        {{ template "todo" . }}
    {{ end }}
</div>
{{ end }}

{{ define "updateForm" }}
<form hx-put="/todo/{{ .Task.ID }}/update" hx-swap="innerHTML" hx-target="#todo-{{ .Task.ID }}">
    <label for="title">Title</label>
    <input type="text" name="title" value="{{ .Task.Title }}">
    <label for="title">Description</label>
    <input type="text" name="description" value="{{ .Task.Description }}">
    <label for="status">Status</label>
    <input type="checkbox" name="status" value="done">
    <button type="submit"> submit </button>
    <button hx-get="/todo/{{ .Task.ID }}" hx-swap="outerHTML" hx-target="#todo-{{ .Task.ID }}"> Cancel </button>
</form>
{{ end }}

{{ define "todo" }}
<div id="todo-{{ .ID }}">
    <p>{{ .Title }}</p>
    <p>{{ .Description }}</p>
    <button hx-get="/todo/{{ .ID }}/update" hx-swap="innerHTML" hx-target="#todo-{{ .ID }}">edit</button>
    <button hx-delete="/todo/{{ .ID }}/delete" hx-swap="outerHTML" hx-target="#todo-{{ .ID }}">delete</button>
</div>
{{ end }}

{{ define "obb-todo" }}
    {{ template "todo" }}
{{ end }}
