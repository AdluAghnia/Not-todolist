{{ define "todoList" }}
<div id="todo-list">
    {{ range $index, $task := .Tasks }}
    <div id="todo-{{ $task.ID}}">
        <strong>{{ $task.Title }}</strong> - {{ $task.Description }}<br>
        <small>Created at: {{ $task.CreatedAt.Format "2006-01-02 15:04:05" }}</small><br>
        <small>Time passed: {{ index $.TimePassed $index }}</small>
        </br>
        <button hx-get="/todo/{{ $task.ID }}/update" hx-swap="outerHTML">update</button>
        <button hx-delete="/todo/{{$task.ID}}" hx-swap="outerHTML" hx-target="#todo-list">
            delete
        </button>       
    </div>

    {{ else }}
    <p>No tasks available.</p>
    {{ end }}
</div>
{{ end }}

{{ define "updateForm" }}
<form hx-update="/todo/{{ .Task.ID }}" hx-swap="outerHTML" hx-target="#todo-list">
    <label for="title">Title</label>
    <input type="text" name="title" value="{{ .Task.Title }}">
    <label for="title">Description</label>
    <input type="text" name="description" value="{{ .Task.Description }}">
    <label for="status">Status</label>
    <input type="checkbox" name="status" value="done">

    <button type="submit"> SUBMIT </button>
</form>

{{ end }}
